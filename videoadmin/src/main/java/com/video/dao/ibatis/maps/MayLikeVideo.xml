<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd">
<sqlMap namespace="MayLikeVideo">
	<typeAlias alias="MayLikeVideo" type="com.video.domain.MayLikeVideo" />
	<resultMap id="MayLikeVideo" class="MayLikeVideo">
		<result property="id" column="id" />
		<result property="name" column="name" />
		<result property="video.id" column="video_id" />
		<result property="description" column="description" />
		<result property="imageUrl" column="image" />
		

	</resultMap>
	
	
	
	<resultMap id="MayLikeVideoJoinMap" class="MayLikeVideo" >
		<result property="id" column="i.id" />
		<result property="name" column="i.name" />
		<result property="video.id" column="v.id" />
		<result property="video.name" column="v.name" />
		<result property="description" column="i.description" />
		<result property="imageUrl" column="i.image" />


	</resultMap>
	

	
	<select id="getMayLikeVideoById" parameterClass="java.lang.Long"  resultMap="MayLikeVideo">
		select id,name,video_id,description,image from w_video_maylike where id=#value#
	
	</select>
	
	<insert id="createMayLikeVideo" parameterClass="MayLikeVideo">
		insert into w_video_maylike(id,name,video_id,description,image) values(#id#,#name#,#video.id#,#description#,#imageUrl#)
	</insert>
	
	<select id="getMayLikeVideoes"  resultMap="MayLikeVideoJoinMap">
		select i.id,i.name,v.id,v.name,i.description,i.image from w_video_maylike i left join w_video  v 
		on i.video_id = v.id order by i.id desc
	
	</select>
	

	
	<update id="updateMayLikeVideo" parameterClass="MayLikeVideo">
		update w_video_maylike set name = #name#,description=#description#,image=#imageUrl# where id = #id#
		
	
	</update>
	
	
	<delete id="deleteMayLikeVideo" >
	delete from  w_video_maylike
	</delete>
	
	
	</sqlMap>